<!doctype html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JimLang - JVM 脚本语言 · REPL · Web · LLM · DB · dev snapshot</title>
  <meta name="description" content="JimLang: 基于 JVM 的轻量脚本语言。REPL/CLI，Web 服务器，JSON/YAML，环境变量，LLM（流式），JDBC 数据库，JSR-223 嵌入。" />
  <link rel="stylesheet" href="assets/styles.css" />
  <style>
    .btn.theme-toggle{border:0;background:transparent;padding:8px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;line-height:1;color:var(--fg)}
    .btn.theme-toggle:hover{background:rgba(255,255,255,0.10)}
    html[data-theme="light"] .btn.theme-toggle:hover{background:rgba(0,0,0,0.06)}
    .btn.theme-toggle .icon{width:20px;height:20px;display:block}
    html[data-theme="light"] .btn.theme-toggle .sun{display:block}
    html[data-theme="light"] .btn.theme-toggle .moon{display:none}
    html[data-theme="dark"] .btn.theme-toggle .sun{display:none}
    html[data-theme="dark"] .btn.theme-toggle .moon{display:block}
    .brand .logo-img{height:56px !important}
  </style>
  <style>@media (max-width:720px){ .brand .logo-img{ height:56px !important } }</style>
</head>
<body>
  <header class="site-header container">
    <div class="brand">
      <img class="logo-img" src="assets/logo.png" alt="JimLang logo" />
      <span class="brand-text">JimLang</span>
    </div>


    <nav class="nav">
      <a href="#features">特性</a>
      <a href="#quickstart">快速开始</a>
      <a href="#syntax">语法速览</a>
      <a href="#examples">示例</a>
      <a href="#cli">命令行</a>
      <a href="#db">数据库</a>
      <a href="#build">构建</a>
      <a href="#roadmap">路线图</a>
      <a href="https://github.com/dafei1288/jimlang/blob/master/doc/QUICKREF.md" target="_blank" rel="noopener">文档</a>
      <a href="https://github.com/dafei1288/jimlang/tree/master/examples" target="_blank" rel="noopener">示例库</a>
    </nav>


    <button id="themeToggle" class="btn theme-toggle" aria-label="切换主题" title="切换主题">
      <svg class="icon sun" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <circle cx="12" cy="12" r="5" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="11" y="19" width="2" height="4" rx="1" fill="currentColor" />
        <rect x="1" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="19" y="11" width="4" height="2" rx="1" fill="currentColor" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(45 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(135 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(225 12 12)" />
        <rect x="11" y="1" width="2" height="4" rx="1" fill="currentColor" transform="rotate(315 12 12)" />
      </svg>
      <svg class="icon moon" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
        <defs>
          <mask id="moon-mask">
            <rect width="24" height="24" fill="white" />
            <circle cx="14" cy="10" r="7" fill="black" />
          </mask>
        </defs>
        <circle cx="12" cy="12" r="8" fill="currentColor" mask="url(#moon-mask)" />
      </svg>
    </button>
  </header>

  <main>
    <section class="hero container" id="top">
      <h1 class="title gradient-text">JimLang</h1>
      <p class="subtitle">基于 JVM 的轻量脚本语言，适合脚本开发与语言实现学习。</p>
      <p class="subtext">REPL/CLI · Web · JSON/YAML · Env/LLM（流式）· JDBC/DB</p>
      <div class="cta">
        <a class="btn primary" href="#quickstart">快速开始</a>
        <a class="btn" href="#features">查看特性</a>
        <a class="btn ghost" href="https://github.com/dafei1288/jimlang" target="_blank" rel="noopener">GitHub</a>
      </div>
    </section>

    <section class="container" id="features">
      <h2>核心特性</h2>
      <div class="grid">
        <div class="card glass"><div class="icon">🔁</div><h3>控制流与表达式</h3><p>if/else，while，for，break/continue；算术/比较，短路 &&/||。</p></div>
        <div class="card glass"><div class="icon">📦</div><h3>数组与对象</h3><p>字面量；索引/属性访问；<code>length</code>；<code>{}</code> 对象。</p></div>
        <div class="card glass"><div class="icon">📚</div><h3>标准库</h3><p>字符串/数学/文件；三引号多行字符串 <code>'''...'''</code>。</p></div>
        <div class="card glass"><div class="icon">🕸️</div><h3>内置 Web</h3><p>route/start_webserver；send_text/html/json、cookie、下载、静态文件。</p></div>
        <div class="card glass"><div class="icon">🔗</div><h3>JSON / YAML / Env</h3><p>json_encode/decode，yml_*，load_env/env_get 覆盖层。</p></div>
        <div class="card glass"><div class="icon">🧠</div><h3>LLM 集成</h3><p>ask_llm（流式 SSE/LC4J），<code>on_token</code> 回调，<code>LLM_DEBUG</code> 调试。</p></div>
        <div class="card glass"><div class="icon">🗄️</div><h3>数据库 JDBC</h3><p>db_open/query/exec/tx/with_conn，命名参数 <code>:name</code>，JimSQL。</p></div>
        <div class="card glass"><div class="icon">🖥️</div><h3>跨平台 CLI</h3><p>--cli/-i、--eval/-e、--trace、STDIN；/ext 外部 JAR。</p></div>
      </div>
    </section>

        <section class="container" id="quickstart">
      <h2>快速开始</h2>
      <div class="grid code-grid">
        <div class="card glass"><h3>启动与执行</h3>
<pre><code class="language-bash"># REPL
bin/jimlang.sh --cli</code></pre>
<pre><code class="language-bash"># 一行执行
bin/jimlang.sh --eval "println(\"hi\")"</code></pre>
<pre><code class="language-bash"># 从 STDIN
cat code.jim | bin/jimlang.sh -</code></pre>
        </div>
        <div class="card glass"><h3>运行脚本</h3>
<pre><code class="language-powershell"># Windows
bin\\jimlang.cmd examples\\test.jim</code></pre>
<pre><code class="language-bash"># Unix
bin/jimlang.sh examples/test.jim</code></pre>
        </div>
      </div>
    </section>


    <section class="container" id="syntax">
      <h2>语法速览</h2>
      <div class="grid code-grid">
        <div class="card glass"><h3>控制流</h3>
<pre><code class="language-jim">for (var i = 0; i < 5; i = i + 1) {
  if (i == 2) { continue }
  if (i == 4) { break }
  println(i)
}</code></pre></div>
        <div class="card glass"><h3>数组/对象</h3>
<pre><code class="language-jim">var a = [1,2,3]; var o = { name: "Jim", age: 26 }
println(a[0]); println(o.name)</code></pre></div>
        <div class="card glass"><h3>多行字符串</h3>
<pre><code class="language-jim">var s = '''
line1
line2
'''
println(s)</code></pre></div>
      </div>
    </section>

    <section class="container" id="examples">
      <h2>示例</h2>
      <div class="grid code-grid">
        <div class="card glass"><h3>Fibonacci</h3>
<pre><code class="language-jim">function fib(n){ var a=0;
        var b=1;
        for (var i=0;i&lt;n;i=i+1){
            var t=a;
            a=b;
            b=t+b
        }
        return a }

println(fib(10))</code></pre></div>
        <div class="card glass"><h3>Env + Web</h3>
<pre><code class="language-jim">load_env(".env", true)
function port(req){ return send_text("port=" + env_get("PORT", 8080)) }
start_webserver(8080, route("/port","GET", port))</code></pre></div>
        <div class="card glass"><h3>LLM（流式）</h3>
<pre><code class="language-jim">ask_llm("用一句话描述春天", { stream: true })</code></pre></div>
              <div class="card glass"><h3>示例（JimSQL）</h3>
<pre><code class="language-jim">db_open("main", { url: "jdbc:jimsql://localhost:8821/test", driver: "com.dafei1288.jimsql.jdbc.JqDriver" })
println(json_encode(db_query("main","select 1 as x", [])))</code></pre></div></div>
    </section>

    <section class="container" id="cli">
      <h2>命令行</h2>
      <div class="grid code-grid">
        <div class="card glass"><h3>常用选项</h3>
<pre><code class="language-bash">--cli / -i           启动交互 REPL
--eval / -e CODE     执行一段代码
--trace              打印调用栈（或设置 JIM_TRACE=1）
-                    从标准输入读取脚本
</code></pre></div>
        <div class="card glass"><h3>/ext 外部依赖</h3>
<pre><code class="language-bash"># 将第三方 JAR 放入项目根 ext/
# 启动器使用 -cp 方式，会自动拼接 ext/**/*.jar
# 例如：放入 JimSQL/Hikari/SnakeYAML/LC4J 等依赖
</code></pre></div>
      </div>
    </section>    <section class="container" id="build">
      <h2>构建</h2>
      <ul class="list">
        <li>环境：Java 21+，Maven 3.x</li>
        <li>构建：<code>mvn clean package -DskipTests</code></li>
        <li>启动脚本：Windows/Unix，支持 /ext 类路径</li>
      </ul>
    </section>

    <section class="container" id="roadmap">
      <h2>路线图（摘）</h2>
      <div class="grid">
        <div class="card glass">
          <h3>近期完成</h3>
          <ul class="list">
            <li>三引号字符串、短路 &&/||</li>
            <li>错误信息带 caret/调用栈、--trace</li>
            <li>LLM ask_llm（流式 SSE/LC4J），on_token 回调</li>
            <li>Web 服务器与响应工具集、Cookie/下载/静态文件</li>
            <li>JSON/YAML、load_env/env_get</li>
            <li>JDBC：db_open/query/exec/tx/with_conn（JimSQL）</li>
            <li>启动器 /ext 类路径</li>
          </ul>
        </div>
        <div class="card glass">
          <h3>计划中</h3>
          <ul class="list">
            <li>类型系统拓展与注解</li>
            <li>事务保存点、流式查询增强</li>
            <li>示例库与文档持续完善</li>
          </ul>
        </div>
      </div>
      <p class="muted">版本：dev snapshot · GitHub：<a href="https://github.com/dafei1288/jimlang" target="_blank" rel="noopener">dafei1288/jimlang</a></p>
    </section>
  </main>

  <footer class="site-footer container">
    <div>JimLang dev snapshot. All rights reserved.</div>
    <div class="muted">Built with Java 21+. Ready for embedding and scripts.</div>
  </footer>

  <script src="assets/app-light.js"></script>
</body>
</html>
